<div class="container mx-auto sm:px-2 md:px-10 py-4">
  <div class="flex sm:flex-col md:flex-row">
    <div class="sm:w-full md:w-1/2 p-6">
      <div class="big-thumb">
        <% if @product.file.attached? %>
          <%= image_tag @product.file, id: "big" %>
        <% end %>
      </div>
      <div class="flex mt-1">
        <% if @product.file.attached? %>
          <div class="w-1/5 mr-2 file">
            <%= image_tag @product.file, class: "cursor-pointer" %>
          </div>
        <% end %>
        <% if @product.file_2.attached? %>
          <div class="w-1/5 mr-2 file">
            <%= image_tag @product.file_2, class: "cursor-pointer" %>
          </div>
        <% end %>
      </div>
    </div>
    <div class="sm:w-full md:w-1/2 sm:px-4 md:p-6">
      <h1 class="text-2xl mb-1 font-medium">
        <%= @product.name %>
      </h1>

      <p class="text-lg">
        <%= @product.price %> zł
      </p>

      <%= simple_format(@product.description, class: "my-4 py-5 border-t border-b leading-normal") %>

      <% if @product.where_from.present? %>
      <p class="py-1 text-sm">
        <span class="block uppercase mb-1">Skąd?</span>
        <%= WhereFrom.find(@product.where_from).name %>
      </p>
      <% end %>

      <% if @product.material.present? %>
      <p class="py-1 text-sm">
        <span class="block uppercase mb-1">Materiał</span>
        <% @product.material.each do |material| %>
          <% if material != @product.material.last %>
            <%= Material.find(material).name %>,
          <% else %>
            <%= Material.find(material).name %>
          <% end %>
        <% end %>
      </p>
      <% end %>

      <% if @product.color.present? %>
      <p class="py-1 text-sm">
        <span class="block uppercase mb-1">Kolor</span>
        <% @product.color.each do |color| %>
          <% if color != @product.color.last %>
            <%= Color.find(color).name %>,
          <% else %>
            <%= Color.find(color).name %>
          <% end %>
        <% end %>
      </p>
      <% end %>

      <div class="mt-8">
        <a href="#" class="btn bg-green-light my-4 p-4 text-white font-medium hover:bg-green hover:text-white">
          Dodaj do koszyka
        </a>
        <%= link_to edit_product_path(@product), class: "bg-grey-lighter ml-2 p-2 rounded text-grey-darker hover:bg-grey-light" do %>
          <i class="fas fa-pen-square"></i>
        <% end %>
        <%= link_to product_path, method: :delete, class: "bg-grey-lighter ml-2 px-3 py-2 rounded text-grey-darker hover:bg-grey-light", data: { confirm: 'Ar ju siur?' } do %>
          <i class="fas fa-trash-alt"></i>
        <% end %>
      </div>

      <%# TAGI -%>
      <div class="mt-8 w-2/3">
        <% if @product.category.present? %>
          <% @product.category.each do |f| %>
            <div class="inline-block px-3 py-2 bg-grey-lighter text-sm mr-1 mb-2">
              <%= Category.find(f).name %>
            </div>
          <% end %>
        <% end %>
        <% if @product.where_from.present? %>
          <div class="inline-block px-3 py-2 bg-grey-lighter text-sm mr-1 mb-2">
            <%= WhereFrom.find(@product.where_from).name %>
          </div>
        <% end %>
        <% if @product.material.present? %>
          <% @product.material.each do |f| %>
            <div class="inline-block px-3 py-2 bg-grey-lighter text-sm mr-1 mb-2">
              <%= Material.find(f).name %>
            </div>
          <% end %>
        <% end %>
        <% if @product.color.present? %>
          <% @product.color.each do |f| %>
            <div class="inline-block px-3 py-2 bg-grey-lighter text-sm mr-1 mb-2">
              <%= Color.find(f).name %>
            </div>
          <% end %>
        <% end %>
      </div>
    </div>
  </div>
</div>
